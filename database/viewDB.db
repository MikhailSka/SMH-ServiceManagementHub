CREATE VIEW unit_view
AS
SELECT unit.id AS unit_id, unit.active, unit.name, unit.serial_number, unit.product_code,
       "location".id AS location_id, "location".name AS location_name,
       device.id AS device_id, device.name AS device_name,
       "operator".id AS operator_id, "operator".name AS operator_name,
       unit.description, unit.creation_date, unit.modification_date
FROM "unit"
JOIN "device" ON unit.device_id = device.id
JOIN "operator" ON unit.operator_id = "operator".id
JOIN "location" ON unit.location_id = "location".id;



CREATE OR REPLACE VIEW public.unit_history_view
 AS
 SELECT unit_history.id,
    unit_history.unit_id,
    unit.name AS unit_name,
    unit_history.location_id,
    location.name AS loaction_name,
    unit_history.user_id,
    "user".name AS user_name,
    unit_history.creation_date
   FROM unit_history
     JOIN unit ON unit_history.unit_id = unit.id
     JOIN "location" ON unit_history.location_id = location.id
     JOIN "user" ON unit_history."user_id" = "user".id;

CREATE VIEW posts_view
AS
SELECT posts.id, posts.title, posts.user_id, "user".name as user_name, posts.content, posts.creation_date
FROM "posts"
JOIN "user" ON posts.user_id = "user".id

CREATE VIEW location_view
AS
SELECT "location".id, "location".active, "location".name, "location".customer_id, customer.name as customer_name
, "location".creation_date, "location".modification_date
FROM "location"
JOIN "customer" ON customer.id = "location".customer_id

